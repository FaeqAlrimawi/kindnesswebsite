{% extends 'base.html' %}

{% block header %}

<link rel="stylesheet" type="text/css" href="{{url_for('static', filename='styles/media.css')}}">
{% endblock  %}


{% block title %}Kindness Media{% endblock  %}


{% block content %}

<h1 align="center">Kindness Media</h1>

<form method='POST'>
    <input type="url"   id="mediaURL" name="mediaURL" placeholder="Media URL... " class='form-control' style="margin-top:20px;"/>
    <input type="text"   id="mediaCategory" name="mediaCategory" placeholder="categories (e.g., family, school, social-media)... " class='form-control' style="margin-top:20px;"/>
    <!--<button type="file" class="btn btn-primary">Add AoK</button>-->
    <br/>
    <div align='center'>
    <button type="submit" class="btn btn-primary">Add Media</button>
    </div>
    </form>

<br/><br/> 
<hr style="border-width:3px">

<div>

{% for med in media %} 
    <div class="column" style="display:none;"> 
    
        
        {% if med.type.value=="Image" %}

        <img  class="box" src="{{med.url}}"></img>

        {% else %}

        <iframe    align="center" frameborder=0 src="{{med.url}}"></iframe>

        {% endif %}

        <span onclick="delete_media({{med.id}})" class="closebtn">&times;</span>

        <div class="category_parent">
        {% for  cat in med.getCategories() %}
        <label class="category_tag">{{cat.name}}</label>
        {% endfor %}
        </div>
    </div>
    {% endfor %}

    


<button  id="load" width="30%" align="center" class="column">Load More</button>

</div>


{% endblock  %}


{% block scripts%}

<script>
    $(document).ready(function(){
    $(function(){
        $(".column").slice(0, 6).show(); // select the first ten
        $("#load").click(function(e){ // click event for load more
            e.preventDefault();
            $(".column:hidden").slice(0, 6).show(); // select next 10 hidden divs and show them
            if($(".column:hidden").length == 0){ // check if any hidden divs still exist
                //alert("No more divs"); // alert if there are none left
                $("#load").prop('disabled', true);
            }
        });
    });
});

</script>
{% endblock %}